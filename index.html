<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		.red{
			color:#ff6060;
		}
	</style>
</head>
<body>
	<h3>Meal upgrades</h3>
	<p>Make your flight more bearable by selecting a meal to match your social and economic status.</p>
	Chosen meal: <select data-bind="options:oMeals,optionsText:'mealName',value:chosenMeal"></select>
	<p>
		You've chosen:
		<b data-bind="text:chosenMeal().description"></b>
		<div>
			(price:<span data-bind="text:formatPrice(chosenMeal().extraCost)"></span>)
		</div>
		<div>
			(price:<span data-bind="text:formatPrice(chosenMeal().extraCost)"></span>)
		</div>
		<div>
			(price:<span data-bind="text:FormatPriceTwo"></span>)
		</div>
	</p>
	<div data-bind="text:oData.name"></div>
	<div>
		<span data-bind="click:Add">点击加一</span>
	</div>
	<div>
		<span data-bind="text:One"></span>
	</div>
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="js/knockout.min.js"></script>
<script>
	var oData={
		name:"xiaoming",
		age:"40",
		work:"actor"
	}
	var oMeals=[
		{ mealName: 'Standard', description: 'Dry crusts of bread', extraCost: 0 },
    	{ mealName: 'Premium', description: 'Fresh bread with cheese', extraCost: 9.95 },
    	{ mealName: 'Deluxe', description: 'Caviar and vintage Dr Pepper', extraCost:18.50} 
	]
</script>
<script>
	var vm={
		One:ko.observable(0),
		chosenMeal:ko.observable(oMeals[0]),
		FormatPrice:function(price){
			return price==0?"Free":"$"+price.toFixed(2);
		},
		Add:function(){
			this.One(this.One()+1);
		}
	}
	
	vm.FormatPriceTwo=ko.dependentObservable(function(){
		return this.chosenMeal().extraCost==0?"Free":"$"+this.chosenMeal().extraCost.toFixed(2);
	},vm)
	
	ko.applyBindings(vm);
	
	function formatPrice(price){
		return price==0?"Free":"$"+price.toFixed(2);
	}
	
</script>
</body>
</html>





